---
phase: 18-extension-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - tokemon-raycast/package.json
  - tokemon-raycast/tsconfig.json
  - tokemon-raycast/raycast-env.d.ts
  - tokemon-raycast/.prettierrc
  - tokemon-raycast/eslint.config.js
  - tokemon-raycast/assets/icon.png
  - tokemon-raycast/LICENSE
  - tokemon-raycast/README.md
  - tokemon-raycast/package-lock.json
autonomous: true

must_haves:
  truths:
    - "User can run npm install in tokemon-raycast/ without errors"
    - "User can run npm run dev and Raycast loads the extension"
    - "Extension displays Tokemon icon in Raycast"
    - "MIT license file exists at project root"
    - "README explains how to set up the extension"
  artifacts:
    - path: "tokemon-raycast/package.json"
      provides: "Raycast manifest with extension metadata, password preference, two commands"
      contains: "tokemon"
    - path: "tokemon-raycast/assets/icon.png"
      provides: "512x512 PNG icon exported from macOS app"
    - path: "tokemon-raycast/LICENSE"
      provides: "MIT license"
    - path: "tokemon-raycast/README.md"
      provides: "Setup instructions for developers"
    - path: "tokemon-raycast/package-lock.json"
      provides: "Lock file required for Store submission"
  key_links:
    - from: "tokemon-raycast/package.json"
      to: "tokemon-raycast/assets/icon.png"
      via: "icon field in manifest"
      pattern: '"icon": "icon.png"'
    - from: "tokemon-raycast/package.json"
      to: "tokemon-raycast/src/index.tsx"
      via: "commands[0].name = index"
      pattern: '"name": "index"'
    - from: "tokemon-raycast/package.json"
      to: "tokemon-raycast/src/setup.tsx"
      via: "commands[1].name = setup"
      pattern: '"name": "setup"'
---

<objective>
Scaffold the Tokemon Raycast extension project with branding, dev tooling, and store-ready metadata.

Purpose: Create the project foundation that all Phase 18-21 work builds on. The extension must be installable via `npm install && npm run dev`, display the Tokemon icon in Raycast, and include MIT license and README.

Output: A complete `tokemon-raycast/` directory with package.json manifest, TypeScript config, ESLint/Prettier, 512x512 icon, MIT license, README, and lock file. Source files (`index.tsx`, `setup.tsx`) are created in Plan 02.
</objective>

<execution_context>
@/Users/richardparr/.claude/get-shit-done/workflows/execute-plan.md
@/Users/richardparr/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/18-extension-foundation/18-RESEARCH.md
@Tokemon/Utilities/Constants.swift
</context>

<tasks>

<task type="auto">
  <name>Task 1: Scaffold project, export icon, and configure manifest</name>
  <files>
    tokemon-raycast/package.json
    tokemon-raycast/tsconfig.json
    tokemon-raycast/raycast-env.d.ts
    tokemon-raycast/.prettierrc
    tokemon-raycast/eslint.config.js
    tokemon-raycast/assets/icon.png
    tokemon-raycast/package-lock.json
  </files>
  <action>
    Create the `tokemon-raycast/` directory as a sibling to the `Tokemon/` Swift project (i.e., at `/Users/richardparr/tokemon-raycast/`).

    **Step 1: Create project directory and assets folder.**
    ```bash
    mkdir -p /Users/richardparr/tokemon-raycast/assets
    mkdir -p /Users/richardparr/tokemon-raycast/src
    ```

    **Step 2: Export the icon from the macOS app.**
    Export `AppIcon.icns` to a 512x512 PNG using `sips`:
    ```bash
    sips -s format png /Users/richardparr/Tokemon/Tokemon/Resources/AppIcon.icns \
      --out /Users/richardparr/tokemon-raycast/assets/icon.png \
      --resampleHeightWidth 512 512
    ```
    Verify the output is a valid 512x512 PNG with `sips -g pixelWidth -g pixelHeight`.

    **Step 3: Create `package.json` with the complete Raycast manifest.**
    Must include:
    - `"name": "tokemon"` (lowercase per locked decision)
    - `"title": "tokemon"` (lowercase per locked decision)
    - `"description": "Monitor your Claude AI usage at a glance"` — concise, discoverable
    - `"icon": "icon.png"`
    - `"author": "tokemon"` — placeholder; user updates before Store submission
    - `"platforms": ["macOS"]`
    - `"categories": ["Developer Tools"]`
    - `"license": "MIT"`
    - Extension-level `preferences` array with one entry:
      ```json
      {
        "name": "oauthToken",
        "type": "password",
        "title": "Claude OAuth Token",
        "description": "Your Claude OAuth access token. Run the Setup command for instructions.",
        "required": true
      }
      ```
    - `commands` array with two entries:
      1. `{ "name": "index", "title": "Dashboard", "subtitle": "tokemon", "description": "View your Claude session and weekly usage", "mode": "view" }`
      2. `{ "name": "setup", "title": "Setup", "subtitle": "tokemon", "description": "Configure your Claude OAuth token", "mode": "view" }`
    - `dependencies`: `"@raycast/api": "^1.104.5"`, `"@raycast/utils": "^1.0.0"`
    - `devDependencies`: `"@raycast/eslint-config": "^1.0.0"`, `"typescript": "^5.0.0"`
    - `scripts`: `"build": "ray build -e dist"`, `"dev": "ray develop"`, `"fix-lint": "ray lint --fix"`, `"lint": "ray lint"`, `"publish": "npx @raycast/api@latest publish"`

    **Step 4: Create `tsconfig.json`** with Raycast's standard TypeScript config:
    ```json
    {
      "$schema": "https://www.raycast.com/schemas/extension.json",
      "compilerOptions": {
        "allowJs": true,
        "esModuleInterop": true,
        "forceConsistentCasingInFileNames": true,
        "jsx": "react-jsx",
        "lib": ["ES2023"],
        "module": "ES2022",
        "moduleResolution": "bundler",
        "resolveJsonModule": true,
        "skipLibCheck": true,
        "strict": true,
        "target": "ES2022"
      },
      "include": ["src/**/*", "raycast-env.d.ts"]
    }
    ```

    **Step 5: Create `raycast-env.d.ts`** placeholder (auto-generated by Raycast, but needed for TypeScript):
    ```typescript
    /// <reference types="@raycast/api">
    ```

    **Step 6: Create `.prettierrc`** with Raycast defaults:
    ```json
    {
      "printWidth": 120,
      "tabWidth": 2,
      "trailingComma": "all",
      "semi": true,
      "singleQuote": false
    }
    ```

    **Step 7: Create `eslint.config.js`** using flat config with `@raycast/eslint-config`:
    ```javascript
    const { defineConfig } = require("eslint/config");
    const raycastConfig = require("@raycast/eslint-config");

    module.exports = defineConfig([...raycastConfig]);
    ```

    **Step 8: Create minimal stub source files** so `npm run dev` doesn't fail on missing entry points. Create `src/index.tsx` and `src/setup.tsx` as minimal placeholders:
    - `src/index.tsx`: `export default function Command() { return null; }`
    - `src/setup.tsx`: `export default function SetupCommand() { return null; }`
    These will be fully implemented in Plan 02.

    **Step 9: Run `npm install`** to generate `package-lock.json` and install dependencies.
    ```bash
    cd /Users/richardparr/tokemon-raycast && npm install
    ```
    Verify `package-lock.json` is created (required for Store submission).

    **Step 10: Initialize git in tokemon-raycast/** (if not already in parent git scope) and add a `.gitignore`:
    ```
    node_modules/
    dist/
    .DS_Store
    ```
  </action>
  <verify>
    1. `ls /Users/richardparr/tokemon-raycast/package.json` exists
    2. `ls /Users/richardparr/tokemon-raycast/package-lock.json` exists
    3. `ls /Users/richardparr/tokemon-raycast/assets/icon.png` exists
    4. `sips -g pixelWidth -g pixelHeight /Users/richardparr/tokemon-raycast/assets/icon.png` shows 512x512
    5. `node -e "const p = require('./package.json'); console.log(p.name, p.preferences.length, p.commands.length)"` from tokemon-raycast/ outputs `tokemon 1 2`
    6. `npm run build` from tokemon-raycast/ completes without error (verifies TypeScript config + stubs compile)
  </verify>
  <done>
    tokemon-raycast/ directory exists as sibling to Tokemon/ with valid package.json manifest, 512x512 PNG icon, TypeScript config, ESLint/Prettier config, stub source files that compile, and package-lock.json committed.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create MIT license and README with setup instructions</name>
  <files>
    tokemon-raycast/LICENSE
    tokemon-raycast/README.md
  </files>
  <action>
    **Step 1: Create `LICENSE`** file with standard MIT license text. Use "tokemon" as the copyright holder and 2026 as the year:
    ```
    MIT License

    Copyright (c) 2026 tokemon

    Permission is hereby granted, free of charge, to any person obtaining a copy
    of this software and associated documentation files (the "Software"), to deal
    in the Software without restriction, including without limitation the rights
    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
    copies of the Software, and to permit persons to whom the Software is
    furnished to do so, subject to the following conditions:

    The above copyright notice and this permission notice shall be included in all
    copies or substantial portions of the Software.

    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
    SOFTWARE.
    ```

    **Step 2: Create `README.md`** with setup instructions tailored for the Raycast developer audience. Structure:
    - Title: "tokemon" (lowercase)
    - One-liner: "Monitor your Claude AI usage at a glance — right from Raycast."
    - Features section: Dashboard command, setup wizard, session and weekly usage monitoring
    - Setup section: Prerequisites (Raycast, Node.js 22.14+, Claude account), install steps (`npm install && npm run dev`), token configuration (open Setup command or Raycast preferences)
    - Commands section: List Dashboard and Setup commands with brief descriptions
    - Link to tokemon.app for the full macOS menu bar experience ("Standalone with nod" identity per locked decision)
    - Keep it concise — Raycast developer audience doesn't need hand-holding
  </action>
  <verify>
    1. `cat /Users/richardparr/tokemon-raycast/LICENSE | head -1` shows "MIT License"
    2. `cat /Users/richardparr/tokemon-raycast/README.md | head -3` shows tokemon title
    3. `grep -c "npm install" /Users/richardparr/tokemon-raycast/README.md` returns at least 1 (setup instructions present)
  </verify>
  <done>
    MIT license exists at project root. README includes extension description, setup prerequisites, install/dev commands, token configuration steps, and link to the full tokemon macOS app.
  </done>
</task>

</tasks>

<verification>
1. `cd /Users/richardparr/tokemon-raycast && npm run build` succeeds (TypeScript compiles, manifest valid)
2. `sips -g pixelWidth -g pixelHeight assets/icon.png` confirms 512x512
3. `cat LICENSE | head -1` shows "MIT License"
4. `cat README.md` includes setup instructions
5. `node -e "const p = require('./package.json'); console.log(p.preferences[0].type)"` outputs "password"
6. `ls package-lock.json` exists
</verification>

<success_criteria>
- tokemon-raycast/ directory exists with complete project structure
- npm install succeeds with no errors
- npm run build succeeds (stubs compile)
- 512x512 Tokemon icon present at assets/icon.png
- package.json declares password preference and two commands (index, setup)
- MIT license and README with setup instructions exist
- package-lock.json committed (Store requirement)
</success_criteria>

<output>
After completion, create `.planning/phases/18-extension-foundation/18-01-SUMMARY.md`
</output>
