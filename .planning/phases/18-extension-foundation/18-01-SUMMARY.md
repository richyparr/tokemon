---
phase: 18-extension-foundation
plan: 01
subsystem: infra
tags: [raycast, typescript, react, npm, eslint, prettier]

# Dependency graph
requires: []
provides:
  - tokemon-raycast/ project directory with complete Raycast extension scaffold
  - package.json manifest with password preference and two commands (Dashboard, Setup)
  - 512x512 PNG icon exported from macOS AppIcon.icns
  - TypeScript config, ESLint/Prettier tooling, stub source files that compile
  - package-lock.json committed for Store submission
  - MIT license and developer README
affects:
  - 18-extension-foundation (plans 02+: build on this scaffold)
  - 19-dashboard-command
  - 20-setup-command
  - 21-store-submission

# Tech tracking
tech-stack:
  added:
    - "@raycast/api ^1.104.5"
    - "@raycast/utils ^1.0.0"
    - "@raycast/eslint-config ^1.0.0"
    - "typescript ^5.0.0"
  patterns:
    - Raycast extension manifest in package.json (doubles as npm manifest)
    - password-type preference for Claude OAuth token (avoids Keychain, Raycast-approved)
    - Stub source files (index.tsx, setup.tsx) for build verification before full implementation
    - Auto-generated raycast-env.d.ts with TypeScript types for preferences

key-files:
  created:
    - tokemon-raycast/package.json
    - tokemon-raycast/tsconfig.json
    - tokemon-raycast/raycast-env.d.ts
    - tokemon-raycast/.prettierrc
    - tokemon-raycast/eslint.config.js
    - tokemon-raycast/assets/icon.png
    - tokemon-raycast/src/index.tsx
    - tokemon-raycast/src/setup.tsx
    - tokemon-raycast/.gitignore
    - tokemon-raycast/package-lock.json
    - tokemon-raycast/LICENSE
    - tokemon-raycast/README.md
  modified: []

key-decisions:
  - "tokemon-raycast/ placed as sibling to Tokemon/ Swift project to keep Node and Swift entirely separate"
  - "password-type preference for OAuth token (not Keychain) per locked decision — Keychain causes Store rejection"
  - "Git initialized in tokemon-raycast/ as independent repo, not a subdirectory of the Swift project"
  - "Stub src/index.tsx and src/setup.tsx created so npm run build passes before Plan 02 implementation"
  - "package-lock.json committed (required for Raycast Store submission)"

patterns-established:
  - "Pattern: Raycast manifest in package.json with commands array and extension-level preferences"
  - "Pattern: Export AppIcon.icns to 512x512 PNG via sips for assets/icon.png"
  - "Pattern: raycast-env.d.ts auto-generated by ray build with TypeScript types for declared preferences"

# Metrics
duration: 2min
completed: 2026-02-19
---

# Phase 18 Plan 01: Extension Foundation Summary

**Raycast extension scaffolded with @raycast/api 1.104.5, password-type OAuth token preference, 512x512 icon from AppIcon.icns, and npm run build passing — ready for Plan 02 command implementation**

## Performance

- **Duration:** 2 min
- **Started:** 2026-02-19T09:18:27Z
- **Completed:** 2026-02-19T09:20:29Z
- **Tasks:** 2
- **Files modified:** 12

## Accomplishments

- tokemon-raycast/ directory initialized as independent git repo (sibling to Tokemon/ Swift project) with all required Raycast extension files
- package.json manifest validated: name "tokemon", password-type OAuth preference, two commands (Dashboard/index, Setup/setup), npm run build succeeds
- 512x512 PNG icon exported from macOS AppIcon.icns and confirmed at correct dimensions
- MIT license and developer README with setup instructions, token acquisition guide, and link to tokemon.app

## Task Commits

Each task was committed atomically:

1. **Task 1: Scaffold project, export icon, and configure manifest** - `047d55a` (chore)
2. **Task 2: Create MIT license and README with setup instructions** - `1d0d656` (docs)

**Plan metadata:** committed to Tokemon/ repo (docs)

## Files Created/Modified

- `tokemon-raycast/package.json` - Raycast manifest + npm config: name "tokemon", password preference, Dashboard and Setup commands
- `tokemon-raycast/tsconfig.json` - Raycast-standard TypeScript config (ES2022, react-jsx, bundler resolution)
- `tokemon-raycast/raycast-env.d.ts` - Auto-generated by ray build; provides TypeScript types for ExtensionPreferences
- `tokemon-raycast/.prettierrc` - Prettier defaults: 120 printWidth, double quotes, trailing commas
- `tokemon-raycast/eslint.config.js` - ESLint flat config extending @raycast/eslint-config
- `tokemon-raycast/assets/icon.png` - 512x512 PNG exported from Tokemon/Tokemon/Resources/AppIcon.icns via sips
- `tokemon-raycast/src/index.tsx` - Stub Dashboard command (returns null; full implementation in Plan 02)
- `tokemon-raycast/src/setup.tsx` - Stub Setup command (returns null; full implementation in Plan 02)
- `tokemon-raycast/.gitignore` - Excludes node_modules/, dist/, .DS_Store
- `tokemon-raycast/package-lock.json` - Generated by npm install (required for Store submission)
- `tokemon-raycast/LICENSE` - MIT license, copyright 2026 tokemon
- `tokemon-raycast/README.md` - Developer setup guide: prerequisites, npm install/dev steps, token acquisition, command reference

## Decisions Made

- tokemon-raycast/ is an independent git repo (not a submodule of the Swift project). This is the standard layout for Raycast extensions before Store submission merges them into raycast/extensions monorepo.
- `author: "tokemon"` is a placeholder — user must update to their Raycast Store username before publishing.
- Stub source files created for Plan 02 (not the full implementation). npm run build verifies the manifest and TypeScript config are correct before any real command logic exists.
- ESLint config uses flat config format (eslint.config.js) per ESLint 9+ standard used by @raycast/eslint-config.

## Deviations from Plan

None — plan executed exactly as written.

## Issues Encountered

None. `npm install` produced expected deprecation warnings from `@raycast/eslint-config` (depends on ESLint 8), which is the standard Raycast tooling state. Build succeeded cleanly.

## User Setup Required

Before publishing to Raycast Store, update `author` in `tokemon-raycast/package.json` to match your Raycast Store username.

## Next Phase Readiness

- tokemon-raycast/ scaffold is complete and validated with npm run build
- Plan 02 can immediately begin implementing src/index.tsx (Dashboard) and src/setup.tsx (Setup) commands
- All tooling (TypeScript, ESLint, Prettier) is configured and verified
- No blockers

---
*Phase: 18-extension-foundation*
*Completed: 2026-02-19*

## Self-Check: PASSED

All 12 project files found, SUMMARY.md created, 2 task commits verified (047d55a, 1d0d656).
